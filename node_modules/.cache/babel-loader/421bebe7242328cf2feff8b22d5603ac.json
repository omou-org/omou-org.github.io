{"ast":null,"code":"var _jsxFileName = \"/Users/danielhuang/Desktop/front-end/omou-frontend/src/components/FeatureViews/Accounts/UserProfile.js\";\nimport { connect } from 'react-redux';\nimport React, { Component } from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport { Paper, Typography } from \"@material-ui/core\";\nimport './Accounts.scss';\nimport BackButton from \"../../BackButton\";\nimport ComponentViewer from \"./ComponentViewer.js\";\nimport Tabs from \"@material-ui/core/Tabs\";\nimport Tab from \"@material-ui/core/Tab\";\nimport ProfileHeading from \"./ProfileHeading.js\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport Chip from \"@material-ui/core/Chip\";\nimport BioIcon from \"@material-ui/icons/PersonOutlined\";\nimport CoursesIcon from \"@material-ui/icons/SchoolOutlined\";\nimport ScheduleIcon from \"@material-ui/icons/CalendarTodayOutlined\";\nimport NoteIcon from \"@material-ui/icons/NoteOutlined\";\nimport CurrentSessionsIcon from \"@material-ui/icons/AssignmentOutlined\";\nimport PastSessionsIcon from \"@material-ui/icons/AssignmentTurnedInOutlined\";\nimport PaymentIcon from \"@material-ui/icons/CreditCardOutlined\";\nimport ContactIcon from \"@material-ui/icons/ContactPhoneOutlined\";\nconst userTabs = {\n  \"instructor\": [{\n    tab_heading: \"Courses\",\n    tab_id: 1,\n    icon: React.createElement(CoursesIcon, {\n      className: \"TabIcon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34\n      },\n      __self: this\n    })\n  }, {\n    tab_heading: \"Bio\",\n    tab_id: 2,\n    icon: React.createElement(BioIcon, {\n      className: \"TabIcon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    })\n  }, {\n    tab_heading: \"Notes\",\n    tab_id: 7,\n    icon: React.createElement(NoteIcon, {\n      className: \"TabIcon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    })\n  }],\n  \"student\": [{\n    tab_heading: \"Current Sessions\",\n    tab_id: 3,\n    icon: React.createElement(CurrentSessionsIcon, {\n      className: \"TabIcon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    })\n  }, {\n    tab_heading: \"Past Sessions\",\n    tab_id: 4,\n    icon: React.createElement(PastSessionsIcon, {\n      className: \"TabIcon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    })\n  }, {\n    tab_heading: \"Parent Contact\",\n    tab_id: 6,\n    icon: React.createElement(ContactIcon, {\n      className: \"TabIcon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    })\n  }, {\n    tab_heading: \"Notes\",\n    tab_id: 7,\n    icon: React.createElement(NoteIcon, {\n      className: \"TabIcon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    })\n  }],\n  \"parent\": [{\n    tab_heading: \"Student Info\",\n    tab_id: 8,\n    icon: React.createElement(CurrentSessionsIcon, {\n      className: \"TabIcon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    })\n  }, {\n    tab_heading: \"Notes\",\n    tab_id: 7,\n    icon: React.createElement(NoteIcon, {\n      className: \"TabIcon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    })\n  }]\n};\n\nclass UserProfile extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      user: {},\n      tabs: [],\n      value: 0\n    };\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  componentWillMount() {\n    let user;\n    let accountType = this.props.computedMatch.params.accountType,\n        accountID = this.props.computedMatch.params.accountID;\n\n    switch (accountType) {\n      case \"student\":\n        user = this.props.students[accountID];\n        break;\n\n      case \"parent\":\n        user = this.props.parents[accountID];\n        break;\n\n      case \"instructor\":\n        user = this.props.instructors[accountID];\n        break;\n\n      case \"receptionist\":\n        user = this.props.receptionist[accountID];\n        break;\n\n      default:\n        user = -1;\n    } // this.setState({ ...CourseInView });\n\n\n    if (user != \"receptionist\") {\n      this.setState({\n        user: user,\n        tabs: userTabs[accountType]\n      });\n    } else {\n      this.setState({\n        user: user\n      });\n    }\n  }\n\n  handleChange(e, newTabIndex) {\n    e.preventDefault();\n    this.setState({\n      value: newTabIndex\n    });\n  }\n\n  stringToColor(string) {\n    let hash = 0;\n    let i;\n    /* eslint-disable no-bitwise */\n\n    for (i = 0; i < string.length; i += 1) {\n      hash = string.charCodeAt(i) + ((hash << 5) - hash);\n    }\n\n    let colour = '#';\n\n    for (i = 0; i < 3; i += 1) {\n      const value = hash >> i * 8 & 0xff;\n      colour += \"00\".concat(value.toString(16)).substr(-2);\n    }\n    /* eslint-enable no-bitwise */\n\n\n    return colour;\n  }\n\n  render() {\n    let styles = {\n      backgroundColor: this.stringToColor(this.state.user.name),\n      color: \"white\",\n      margin: 10,\n      width: window.innerWidth / 10,\n      height: window.innerWidth / 10,\n      fontSize: 50\n    };\n    let tabs;\n\n    if (this.state.user.role != \"receptionist\") {\n      tabs = React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, React.createElement(Tabs, {\n        key: this.props.inView,\n        value: this.state.value,\n        onChange: this.handleChange,\n        indicatorColor: \"primary\",\n        textColor: \"primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }, this.state.tabs.map(tab => {\n        return React.createElement(Tab, {\n          label: React.createElement(React.Fragment, null, tab.icon, \" \", tab.tab_heading),\n          key: this.props.inView,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 173\n          },\n          __self: this\n        });\n      })), React.createElement(ComponentViewer, {\n        user: this.state.user,\n        inView: this.state.tabs[this.state.value].tab_id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      }));\n    } else {\n      tabs = React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        align: \"left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }, \"Action Log\"), React.createElement(Paper, {\n        className: 'paper',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188\n        },\n        __self: this\n      }, React.createElement(Table, {\n        className: \"ActionTable\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189\n        },\n        __self: this\n      }, React.createElement(TableHead, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      }, React.createElement(TableRow, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }, React.createElement(TableCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      }, \"Date\"), React.createElement(TableCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193\n        },\n        __self: this\n      }, \"Time\"), React.createElement(TableCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }, \"Description\"))), React.createElement(TableBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197\n        },\n        __self: this\n      }, Object.keys(this.state.user.action_log).map(rowID => {\n        let row = this.state.user.action_log[rowID];\n        return React.createElement(TableRow, {\n          key: row.date //   onClick={(e) => {\n          //       e.preventDefault();\n          //       this.goToRoute(`/${row.role}/${row.user_id}`)\n          //   }}\n          ,\n          className: \"row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 201\n          },\n          __self: this\n        }, React.createElement(TableCell, {\n          component: \"th\",\n          scope: \"row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 207\n          },\n          __self: this\n        }, React.createElement(Grid, {\n          container: true,\n          layout: 'row',\n          alignItems: 'center',\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 208\n          },\n          __self: this\n        }, React.createElement(Grid, {\n          item: true,\n          md: 3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 209\n          },\n          __self: this\n        }), React.createElement(Grid, {\n          item: true,\n          md: 9,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 211\n          },\n          __self: this\n        }, React.createElement(Typography, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 212\n          },\n          __self: this\n        }, row.date)))), React.createElement(TableCell, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 218\n          },\n          __self: this\n        }, row.time), React.createElement(TableCell, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 219\n          },\n          __self: this\n        }, row.description));\n      })))));\n    }\n\n    return React.createElement(\"div\", {\n      className: \"UserProfile\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229\n      },\n      __self: this\n    }, React.createElement(Paper, {\n      className: 'paper',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230\n      },\n      __self: this\n    }, React.createElement(BackButton, {\n      warn: false,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231\n      },\n      __self: this\n    }), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234\n      },\n      __self: this\n    }), React.createElement(Grid, {\n      container: true,\n      layout: \"row\",\n      className: 'padding',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      item: true,\n      md: 2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236\n      },\n      __self: this\n    }, React.createElement(Avatar, {\n      style: styles,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237\n      },\n      __self: this\n    }, this.state.user.name.match(/\\b(\\w)/g).join(''))), React.createElement(Grid, {\n      item: true,\n      md: 8,\n      className: \"headingPadding\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239\n      },\n      __self: this\n    }, React.createElement(ProfileHeading, {\n      user: this.state.user,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240\n      },\n      __self: this\n    }))), tabs));\n  }\n\n}\n\nUserProfile.propTypes = {};\n\nfunction mapStateToProps(state) {\n  return {\n    students: state.Users.StudentList,\n    parents: state.Users.ParentList,\n    instructors: state.Users.InstructorList,\n    receptionist: state.Users.ReceptionistList\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {};\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UserProfile);","map":{"version":3,"sources":["/Users/danielhuang/Desktop/front-end/omou-frontend/src/components/FeatureViews/Accounts/UserProfile.js"],"names":["connect","React","Component","Grid","Paper","Typography","BackButton","ComponentViewer","Tabs","Tab","ProfileHeading","Avatar","TableHead","TableRow","TableCell","Table","TableBody","Chip","BioIcon","CoursesIcon","ScheduleIcon","NoteIcon","CurrentSessionsIcon","PastSessionsIcon","PaymentIcon","ContactIcon","userTabs","tab_heading","tab_id","icon","UserProfile","constructor","props","state","user","tabs","value","handleChange","bind","componentWillMount","accountType","computedMatch","params","accountID","students","parents","instructors","receptionist","setState","e","newTabIndex","preventDefault","stringToColor","string","hash","i","length","charCodeAt","colour","toString","substr","render","styles","backgroundColor","name","color","margin","width","window","innerWidth","height","fontSize","role","inView","map","tab","Object","keys","action_log","rowID","row","date","time","description","match","join","propTypes","mapStateToProps","Users","StudentList","ParentList","InstructorList","ReceptionistList","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import { connect } from 'react-redux';\nimport React, { Component } from 'react';\n\nimport Grid from '@material-ui/core/Grid';\nimport {Paper, Typography} from \"@material-ui/core\";\nimport './Accounts.scss';\n\nimport BackButton from \"../../BackButton\";\nimport ComponentViewer from \"./ComponentViewer.js\";\nimport Tabs from \"@material-ui/core/Tabs\";\nimport Tab from \"@material-ui/core/Tab\";\nimport ProfileHeading from \"./ProfileHeading.js\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport Chip from \"@material-ui/core/Chip\";\nimport BioIcon from \"@material-ui/icons/PersonOutlined\";\nimport CoursesIcon from \"@material-ui/icons/SchoolOutlined\";\nimport ScheduleIcon from \"@material-ui/icons/CalendarTodayOutlined\";\nimport NoteIcon from \"@material-ui/icons/NoteOutlined\";\nimport CurrentSessionsIcon from \"@material-ui/icons/AssignmentOutlined\";\nimport PastSessionsIcon from \"@material-ui/icons/AssignmentTurnedInOutlined\";\nimport PaymentIcon from \"@material-ui/icons/CreditCardOutlined\";\nimport ContactIcon from \"@material-ui/icons/ContactPhoneOutlined\";\n\nconst userTabs = {\n    \"instructor\": [\n        {\n            tab_heading: \"Courses\",\n            tab_id: 1,\n            icon: <CoursesIcon className=\"TabIcon\" />,\n        },\n        {\n            tab_heading: \"Bio\",\n            tab_id: 2,\n            icon: <BioIcon className=\"TabIcon\" />,\n        },\n        {\n            tab_heading: \"Notes\",\n            tab_id: 7,\n            icon: <NoteIcon className=\"TabIcon\" />,\n        },\n    ],\n    \"student\": [\n        {\n            tab_heading: \"Current Sessions\",\n            tab_id: 3,\n            icon: <CurrentSessionsIcon className=\"TabIcon\" />,\n        },\n        {\n            tab_heading: \"Past Sessions\",\n            tab_id: 4,\n            icon: <PastSessionsIcon className=\"TabIcon\" />,\n        },\n        {\n            tab_heading: \"Parent Contact\",\n            tab_id: 6,\n            icon: <ContactIcon className=\"TabIcon\" />,\n        },\n        {\n            tab_heading: \"Notes\",\n            tab_id: 7,\n            icon: <NoteIcon className=\"TabIcon\" />,\n        }],\n\n        \"parent\": [\n            {\n                tab_heading: \"Student Info\",\n                tab_id: 8,\n                icon: <CurrentSessionsIcon className=\"TabIcon\"/>,\n            },\n            {\n                tab_heading: \"Notes\",\n                tab_id: 7,\n                icon: <NoteIcon className=\"TabIcon\"/>,\n            },\n        ],\n}\n\nclass UserProfile extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            user: {},\n            tabs: [],\n            value: 0,\n        };\n        this.handleChange = this.handleChange.bind(this);\n    }\n\n    componentWillMount() {\n        let user;\n        let accountType = this.props.computedMatch.params.accountType, accountID = this.props.computedMatch.params.accountID;\n        switch (accountType) {\n            case \"student\":\n                user = this.props.students[accountID];\n                break;\n            case \"parent\":\n                user = this.props.parents[accountID];\n                break;\n            case \"instructor\":\n                user = this.props.instructors[accountID];\n                break;\n            case \"receptionist\":\n                user = this.props.receptionist[accountID];\n                break;\n            default:\n                user = -1;\n        }\n        // this.setState({ ...CourseInView });\n        if (user != \"receptionist\") {\n            this.setState({\n                user: user,\n                tabs: userTabs[accountType],\n            })\n        }\n        else {\n            this.setState({\n                user: user,  \n            })\n        }\n    }\n\n    handleChange(e, newTabIndex) {\n        e.preventDefault();\n        this.setState({ value: newTabIndex });\n    }\n\n    stringToColor(string) {\n        let hash = 0;\n        let i;\n\n        /* eslint-disable no-bitwise */\n        for (i = 0; i < string.length; i += 1) {\n            hash = string.charCodeAt(i) + ((hash << 5) - hash);\n        }\n\n        let colour = '#';\n\n        for (i = 0; i < 3; i += 1) {\n            const value = (hash >> (i * 8)) & 0xff;\n            colour += `00${value.toString(16)}`.substr(-2);\n        }\n        /* eslint-enable no-bitwise */\n\n        return colour;\n    }\n\n    render() {\n        let styles = {\n            backgroundColor: this.stringToColor(this.state.user.name),\n            color: \"white\",\n            margin: 10,\n            width: window.innerWidth/10,\n            height: window.innerWidth/10,\n            fontSize: 50,\n        };\n        let tabs;\n        if (this.state.user.role !=\"receptionist\") {\n            tabs =\n                (<div>\n                    <Tabs\n                    key={this.props.inView}\n                    value={this.state.value}\n                    onChange={this.handleChange}\n                    indicatorColor=\"primary\"\n                    textColor=\"primary\"\n                >\n                    {this.state.tabs.map((tab) => {\n                        return <Tab\n                            label={<>{tab.icon} {tab.tab_heading}</>}\n                            key={this.props.inView}\n                        />\n                    })}\n                </Tabs>  \n                <ComponentViewer user={this.state.user} inView={this.state.tabs[this.state.value].tab_id} />\n                </div>)\n        }\n        else {\n            tabs=(<div>\n                <Grid align=\"left\">\n                    Action Log\n                </Grid>\n                \n                <Paper className={'paper'}>\n            <Table className=\"ActionTable\">\n            <TableHead>\n                <TableRow>\n                    <TableCell>Date</TableCell>\n                    <TableCell>Time</TableCell>\n                    <TableCell>Description</TableCell>\n                </TableRow>\n            </TableHead>\n            <TableBody>\n                {Object.keys(this.state.user.action_log).map(rowID => {\n                    let row = this.state.user.action_log[rowID];\n                    return (\n                        <TableRow key={row.date}\n                                //   onClick={(e) => {\n                                //       e.preventDefault();\n                                //       this.goToRoute(`/${row.role}/${row.user_id}`)\n                                //   }}\n                                  className=\"row\">\n                            <TableCell component=\"th\" scope=\"row\">\n                                <Grid container layout={'row'} alignItems={'center'}>\n                                    <Grid item md={3}>\n                                    </Grid>\n                                    <Grid item md={9}>\n                                        <Typography>\n                                            {row.date}\n                                        </Typography>\n                                    </Grid>\n                                </Grid>\n                            </TableCell>\n                            <TableCell>{row.time}</TableCell>\n                            <TableCell>{row.description}</TableCell>\n                        </TableRow>\n                    )\n                })}\n            </TableBody>\n            </Table>\n            </Paper>\n            </div>\n            );\n        } \n        return (<div className=\"UserProfile\">\n            <Paper className={'paper'}>\n                <BackButton\n                    warn={false}\n                />\n                <hr />\n                <Grid container layout=\"row\" className={'padding'}>\n                    <Grid item md={2}>\n                        <Avatar style={styles}>{this.state.user.name.match(/\\b(\\w)/g).join('')}</Avatar>\n                    </Grid>\n                    <Grid item md={8} className=\"headingPadding\">\n                        <ProfileHeading user={this.state.user} />\n                    </Grid>\n                </Grid>\n                {tabs}\n            </Paper>\n        </div>\n        )\n    }\n\n}\n\nUserProfile.propTypes = {};\n\nfunction mapStateToProps(state) {\n    return {\n        students: state.Users.StudentList,\n        parents: state.Users.ParentList,\n        instructors: state.Users.InstructorList,\n        receptionist: state.Users.ReceptionistList,\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {};\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(UserProfile);\n"]},"metadata":{},"sourceType":"module"}